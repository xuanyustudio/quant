# ğŸš€ æœåŠ¡å™¨éƒ¨ç½²å¿«é€Ÿå¯åŠ¨

## ä¸€é”®éƒ¨ç½²ï¼ˆæ¨èï¼‰

### æ–¹æ³•1ï¼šä½¿ç”¨è‡ªåŠ¨è„šæœ¬

```bash
# 1. èµ‹äºˆæ‰§è¡Œæƒé™
chmod +x deploy-live.sh

# 2. è¿è¡Œéƒ¨ç½²è„šæœ¬ï¼ˆè‡ªåŠ¨ä½¿ç”¨æœ€æ–°é…ç½®ï¼‰
./deploy-live.sh

# 3. æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
npm run pm2:list
```

### æ–¹æ³•2ï¼šæ‰‹åŠ¨å‘½ä»¤

```bash
# 1. å®‰è£…PM2ï¼ˆå¦‚æœªå®‰è£…ï¼‰
npm install -g pm2

# 2. ç¡®ä¿é…ç½®æ–‡ä»¶å­˜åœ¨
ls -l output/live_trading_config_*.json

# 3. å¯åŠ¨å®ç›˜äº¤æ˜“
npm run pm2:start

# 4. æŸ¥çœ‹æ—¥å¿—
npm run pm2:logs
```

---

## ğŸ“‹ éƒ¨ç½²å‰æ£€æŸ¥æ¸…å•

### âœ… å¿…é¡»å®Œæˆ

1. **å®‰è£…ä¾èµ–**
   ```bash
   npm install
   ```

2. **é…ç½®ç¯å¢ƒå˜é‡**
   ```bash
   # å¤åˆ¶ç¤ºä¾‹æ–‡ä»¶
   cp env.example .env
   
   # ç¼–è¾‘é…ç½®
   nano .env
   ```
   
   **å…³é”®é…ç½®ï¼š**
   ```env
   # å¸å®‰APIï¼ˆå¿…å¡«ï¼‰
   BINANCE_API_KEY=your_api_key_here
   BINANCE_API_SECRET=your_api_secret_here
   
   # æœåŠ¡å™¨ç¯å¢ƒä¸éœ€è¦ä»£ç†
   USE_PROXY=false
   ```

3. **æµ‹è¯•APIè¿æ¥**
   ```bash
   node test-api-connection.js
   ```
   
   å¦‚æœå‡ºç° `Invalid API-key, IP, or permissions` é”™è¯¯ï¼š
   - æ£€æŸ¥å¸å®‰APIè®¾ç½®
   - å°†æœåŠ¡å™¨IPåŠ å…¥ç™½åå•ï¼ˆæˆ–å–æ¶ˆIPé™åˆ¶ï¼‰
   
   æŸ¥è¯¢æœåŠ¡å™¨IPï¼š
   ```bash
   curl ifconfig.me
   # æˆ–
   node check-my-ip.js
   ```

4. **ç”Ÿæˆäº¤æ˜“é…ç½®**
   
   ç¡®ä¿å·²æœ‰é…ç½®æ–‡ä»¶ï¼š
   ```bash
   ls -l output/live_trading_config_*.json
   ```
   
   å¦‚æœæ²¡æœ‰ï¼Œéœ€è¦å…ˆè¿è¡Œç»„åˆä¼˜åŒ–ï¼š
   ```bash
   npm run stat-arb:portfolio
   ```

---

## ğŸ¯ å¯åŠ¨æ­¥éª¤

### ç¬¬1æ­¥ï¼šç¼–è¾‘PM2é…ç½®

æ‰“å¼€ `ecosystem.config.cjs`ï¼Œç¡®è®¤é…ç½®æ–‡ä»¶è·¯å¾„ï¼š

```javascript
{
  name: 'stat-arb',
  script: 'src/statistical-arbitrage/live-trading.js',
  args: '--config=./output/live_trading_config_1761638276782.json',  // ğŸ‘ˆ ä¿®æ”¹è¿™é‡Œ
  // ...
}
```

### ç¬¬2æ­¥ï¼šå¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨
npm run pm2:start

# æˆ–ç›´æ¥ä½¿ç”¨PM2å‘½ä»¤
pm2 start ecosystem.config.cjs
```

### ç¬¬3æ­¥ï¼šéªŒè¯è¿è¡Œ

```bash
# æŸ¥çœ‹è¿›ç¨‹åˆ—è¡¨
npm run pm2:list

# åº”è¯¥çœ‹åˆ°ç±»ä¼¼è¾“å‡ºï¼š
â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id  â”‚ name     â”‚ namespace   â”‚ mode    â”‚ status  â”‚ cpu      â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0   â”‚ stat-arb â”‚ default     â”‚ fork    â”‚ online  â”‚ 0%       â”‚
â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
npm run pm2:logs

# æˆ–
pm2 logs stat-arb --lines 50
```

---

## ğŸ“Š æ—¥å¸¸ç®¡ç†å‘½ä»¤

### æŸ¥çœ‹çŠ¶æ€å’Œæ—¥å¿—

```bash
# æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹
npm run pm2:list

# å®æ—¶æŸ¥çœ‹æ—¥å¿—ï¼ˆCtrl+Cé€€å‡ºï¼‰
npm run pm2:logs

# æŸ¥çœ‹æœ€è¿‘100è¡Œæ—¥å¿—
pm2 logs stat-arb --lines 100

# å®æ—¶ç›‘æ§ï¼ˆCPUã€å†…å­˜ï¼‰
npm run pm2:monit
```

### é‡å¯å’Œåœæ­¢

```bash
# é‡å¯äº¤æ˜“
npm run pm2:restart

# åœæ­¢äº¤æ˜“
npm run pm2:stop

# åˆ é™¤è¿›ç¨‹
npm run pm2:delete
```

### æ›´æ–°é…ç½®

```bash
# 1. åœæ­¢è¿›ç¨‹
npm run pm2:stop

# 2. ç¼–è¾‘é…ç½®æ–‡ä»¶
nano ecosystem.config.cjs

# 3. é‡æ–°å¯åŠ¨
npm run pm2:start

# 4. ä¿å­˜PM2é…ç½®
pm2 save
```

---

## ğŸ”” è®¾ç½®å¼€æœºè‡ªå¯

```bash
# 1. ç”Ÿæˆå¯åŠ¨è„šæœ¬
pm2 startup

# 2. å¤åˆ¶å¹¶æ‰§è¡Œæ˜¾ç¤ºçš„å‘½ä»¤ï¼ˆéœ€è¦rootæƒé™ï¼‰
# ç¤ºä¾‹ï¼š
sudo env PATH=$PATH:/usr/bin pm2 startup systemd -u username --hp /home/username

# 3. ä¿å­˜å½“å‰è¿›ç¨‹åˆ—è¡¨
pm2 save

# 4. éªŒè¯
sudo reboot
# é‡å¯åæ£€æŸ¥ï¼š
pm2 list
```

---

## ğŸ›¡ï¸ å®‰å…¨é…ç½®

### 1. å¸å®‰APIå®‰å…¨

- âœ… **åªå¼€å¯"è¯»å–"å’Œ"ç°è´§äº¤æ˜“"æƒé™**
- âŒ **ä¸è¦å¼€å¯"æç°"æƒé™**
- âœ… **è®¾ç½®IPç™½åå•ï¼ˆæ¨èï¼‰**
- âœ… **å®šæœŸæ›´æ¢APIå¯†é’¥**

### 2. è®¾ç½®IPç™½åå•

å¦‚æœæ‚¨çš„æœåŠ¡å™¨æœ‰å›ºå®šIPï¼š

```bash
# æŸ¥è¯¢æœåŠ¡å™¨IP
curl ifconfig.me
# è¾“å‡ºï¼š123.45.67.89

# ç„¶åï¼š
# 1. ç™»å½•å¸å®‰
# 2. APIç®¡ç† â†’ ç¼–è¾‘
# 3. IPè®¿é—®é™åˆ¶ â†’ æ·»åŠ ï¼š123.45.67.89
# 4. ä¿å­˜
```

å¦‚æœIPç»å¸¸å˜åŒ–ï¼ˆä¸æ¨èç”Ÿäº§ç¯å¢ƒï¼‰ï¼š
- åœ¨å¸å®‰APIè®¾ç½®ä¸­é€‰æ‹©"ä¸é™åˆ¶"
- âš ï¸ **åŠ¡å¿…ä¿ç®¡å¥½APIå¯†é’¥**

---

## ğŸ” ç›‘æ§å’Œå‘Šè­¦

### 1. å®æ—¶ç›‘æ§

```bash
# æ–¹æ³•1ï¼šPM2è‡ªå¸¦ç›‘æ§
pm2 monit

# æ–¹æ³•2ï¼šæŸ¥çœ‹æ—¥å¿—
pm2 logs stat-arb

# æ–¹æ³•3ï¼šWebç›‘æ§ï¼ˆPM2 Plusï¼‰
pm2 link <secret_key> <public_key>
# è®¿é—® https://app.pm2.io
```

### 2. æ£€æŸ¥äº¤æ˜“è®°å½•

å®šæœŸç™»å½•å¸å®‰æ£€æŸ¥ï¼š
- æŒä»“æƒ…å†µ
- äº¤æ˜“å†å²
- èµ„é‡‘å˜åŠ¨

### 3. æ—¥å¿—åˆ†æ

```bash
# æŸ¥çœ‹æœ€è¿‘çš„äº¤æ˜“
tail -f logs/trades.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
tail -f logs/error.log

# æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—
tail -f logs/combined.log
```

---

## ğŸ†˜ æ•…éšœæ’æŸ¥

### é—®é¢˜1ï¼šè¿›ç¨‹ä¸æ–­é‡å¯

```bash
# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
pm2 logs stat-arb --err --lines 50

# å¸¸è§åŸå› ï¼š
# - APIè¿æ¥å¤±è´¥ï¼ˆæ£€æŸ¥ç½‘ç»œï¼‰
# - APIå¯†é’¥é”™è¯¯
# - é…ç½®æ–‡ä»¶è·¯å¾„é”™è¯¯
# - å†…å­˜ä¸è¶³
```

### é—®é¢˜2ï¼šæ— æ³•è¿æ¥å¸å®‰API

```bash
# æµ‹è¯•APIè¿æ¥
node test-api-connection.js

# å¯èƒ½åŸå› ï¼š
# 1. APIå¯†é’¥é”™è¯¯ â†’ æ£€æŸ¥ .env
# 2. IPè¢«é™åˆ¶ â†’ æ·»åŠ æœåŠ¡å™¨IPåˆ°ç™½åå•
# 3. ç½‘ç»œé—®é¢˜ â†’ æ£€æŸ¥æœåŠ¡å™¨ç½‘ç»œ
# 4. USE_PROXYè®¾ç½®é”™è¯¯ â†’ æœåŠ¡å™¨åº”è¯¥æ˜¯ false
```

### é—®é¢˜3ï¼šæ‰¾ä¸åˆ°é…ç½®æ–‡ä»¶

```bash
# æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ls -l output/live_trading_config_*.json

# å¦‚æœä¸å­˜åœ¨ï¼Œé‡æ–°ç”Ÿæˆï¼š
npm run stat-arb:portfolio

# ç„¶åæ›´æ–° ecosystem.config.cjs ä¸­çš„è·¯å¾„
```

### é—®é¢˜4ï¼šå†…å­˜å ç”¨è¿‡é«˜

```bash
# æŸ¥çœ‹å†…å­˜ä½¿ç”¨
pm2 list

# è§£å†³æ–¹æ³•ï¼š
# 1. åœ¨ ecosystem.config.cjs ä¸­è®¾ç½®ï¼š
#    max_memory_restart: '500M'
#
# 2. å‡å°‘ç›‘æ§çš„å¸å¯¹æ•°é‡
# 3. å¢åŠ æ•°æ®é‡‡é›†é—´éš”
```

---

## ğŸ“± è¿œç¨‹ç®¡ç†

### é€šè¿‡SSH

```bash
# è¿æ¥æœåŠ¡å™¨
ssh user@your-server-ip

# è¿è¡ŒPM2å‘½ä»¤
pm2 list
pm2 logs stat-arb
```

### é€šè¿‡PM2 Plusï¼ˆæ¨èï¼‰

1. æ³¨å†Œ PM2 Plusï¼ˆå…è´¹ï¼‰
2. è¿æ¥æœåŠ¡å™¨ï¼š`pm2 link <key> <secret>`
3. è®¿é—® https://app.pm2.io
4. å³å¯åœ¨ç½‘é¡µ/æ‰‹æœºAppä¸Šç®¡ç†

**ä¼˜ç‚¹ï¼š**
- ğŸ“Š å›¾å½¢åŒ–ç›‘æ§ç•Œé¢
- ğŸ”” å¼‚å¸¸è‡ªåŠ¨å‘Šè­¦
- ğŸ”„ è¿œç¨‹é‡å¯
- ğŸ“± æ‰‹æœºéšæ—¶æŸ¥çœ‹

---

## ğŸ¯ å®Œæ•´éƒ¨ç½²æµç¨‹ç¤ºä¾‹

```bash
# 1. è¿æ¥æœåŠ¡å™¨
ssh user@your-server.com

# 2. å…‹éš†ä»£ç ï¼ˆå¦‚æœæ˜¯æ–°æœåŠ¡å™¨ï¼‰
git clone <your-repo-url>
cd web3

# 3. å®‰è£…ä¾èµ–
npm install
npm install -g pm2

# 4. é…ç½®ç¯å¢ƒ
cp env.example .env
nano .env  # å¡«å…¥APIå¯†é’¥ï¼Œè®¾ç½® USE_PROXY=false

# 5. æµ‹è¯•è¿æ¥
node test-api-connection.js

# 6. ç¡®ä¿æœ‰é…ç½®æ–‡ä»¶
ls -l output/live_trading_config_*.json

# 7. å¯åŠ¨æœåŠ¡
chmod +x deploy-live.sh
./deploy-live.sh

# 8. éªŒè¯è¿è¡Œ
pm2 list
pm2 logs stat-arb --lines 50

# 9. è®¾ç½®å¼€æœºè‡ªå¯
pm2 startup
pm2 save

# âœ… å®Œæˆï¼
```

---

## ğŸ“š æ›´å¤šæ–‡æ¡£

- **è¯¦ç»†PM2æŒ‡å—**: `docs/PM2_GUIDE.md`
- **å®ç›˜äº¤æ˜“æŒ‡å—**: `docs/LIVE_TRADING_GUIDE.md`
- **æ–°æ‰‹å¿«é€Ÿå¼€å§‹**: `docs/NEWBIE_QUICKSTART.md`
- **ä»£ç†é…ç½®**: `docs/PROXY_CONFIGURATION.md`

---

## âœ… éƒ¨ç½²æˆåŠŸæ ‡å¿—

å½“æ‚¨çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºæ—¶ï¼Œè¯´æ˜éƒ¨ç½²æˆåŠŸï¼š

```bash
$ pm2 list
â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id  â”‚ name     â”‚ namespace   â”‚ mode    â”‚ status  â”‚ cpu      â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0   â”‚ stat-arb â”‚ default     â”‚ fork    â”‚ online  â”‚ 0.5%     â”‚
â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

$ pm2 logs stat-arb --lines 10
[ç»Ÿè®¡å¥—åˆ©å®ç›˜äº¤æ˜“ç³»ç»Ÿ]
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… é…ç½®åŠ è½½æˆåŠŸ
âœ… äº¤æ˜“æ‰€åˆå§‹åŒ–æˆåŠŸ
ğŸ¯ å¼€å§‹ç›‘æ§ä»·æ ¼...
ç›‘æ§é¢‘ç‡: æ¯ 30 ç§’
```

ç°åœ¨å¯ä»¥æ”¾å¿ƒè®©ç¨‹åºåœ¨åå°è¿è¡Œäº†ï¼ğŸ‰

---

ç¥äº¤æ˜“é¡ºåˆ©ï¼ğŸ’°

