# å›æµ‹åŠŸèƒ½æ›´æ–° - æ”¯æŒåˆçº¦ç­–ç•¥å›æµ‹

## âœ… æ›´æ–°å†…å®¹

å›æµ‹ç³»ç»Ÿç°åœ¨æ”¯æŒ**åˆçº¦ç­–ç•¥æ¨¡å¼**ï¼Œå¯ä»¥æµ‹è¯•çœŸæ­£çš„å¸‚åœºä¸­æ€§å¯¹å†²ç­–ç•¥ï¼

---

## ğŸš€ å¿«é€Ÿä½¿ç”¨

### ç°è´§ç­–ç•¥å›æµ‹ï¼ˆé»˜è®¤ï¼‰

```bash
npm run stat-arb:backtest-pair -- \
  --symbol1=BTC/USDT \
  --symbol2=ETH/USDT \
  --start=2024-10-01 \
  --end=2024-10-31
```

### åˆçº¦ç­–ç•¥å›æµ‹ â­ æ–°åŠŸèƒ½

```bash
npm run stat-arb:backtest-pair -- \
  --symbol1=BTC/USDT \
  --symbol2=ETH/USDT \
  --start=2024-10-01 \
  --end=2024-10-31 \
  --strategy=futures
```

---

## ğŸ“‹ æ–°å¢å‚æ•°

| å‚æ•° | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `--strategy` | ç­–ç•¥ç±»å‹ï¼š`spot` æˆ– `futures` | `--strategy=futures` |
| `--leverage` | æ æ†å€æ•°ï¼ˆä»…åˆçº¦ç­–ç•¥ï¼‰ | `--leverage=1` |

---

## ğŸ’¡ ä¸ºä»€ä¹ˆè¦ç”¨åˆçº¦ç­–ç•¥å›æµ‹ï¼Ÿ

### é—®é¢˜ï¼šç°è´§ç­–ç•¥çš„å±€é™

**ç°è´§"åšç©º"ä¸æ˜¯çœŸæ­£çš„åšç©ºï¼**

```
å¸‚åœºä¸‹è·Œ 30%ï¼š
  ç°è´§ç­–ç•¥ï¼š
    â”œâ”€ åšå¤šæ–¹ï¼š-30%
    â””â”€ åšç©ºæ–¹ï¼š0% (å·²å–å‡ºï¼Œæ— ç›ˆäº)
    æ€»ç›ˆäºï¼š-30% âŒ

  åˆçº¦ç­–ç•¥ï¼š
    â”œâ”€ åšå¤šæ–¹ï¼š-30%
    â””â”€ åšç©ºæ–¹ï¼š+30% (ç©ºå•ç›ˆåˆ©)
    æ€»ç›ˆäºï¼š0% âœ… (å®Œç¾å¯¹å†²ï¼)
```

### è§£å†³æ–¹æ¡ˆï¼šåˆçº¦ç­–ç•¥

ä½¿ç”¨æ°¸ç»­åˆçº¦ï¼ˆ1xæ æ†ï¼‰å®ç°ï¼š
- âœ… çœŸæ­£çš„åšç©º
- âœ… å®Œç¾çš„å¸‚åœºå¯¹å†²
- âœ… çœŸæ­£çš„å¸‚åœºä¸­æ€§
- âœ… åªèµšä»·å·®å›å½’çš„é’±

---

## ğŸ“Š å¯¹æ¯”ç¤ºä¾‹

### è¿è¡Œå¯¹æ¯”æµ‹è¯•

```bash
# 1. ç°è´§ç­–ç•¥
npm run stat-arb:backtest-pair -- \
  --symbol1=BTC/USDT --symbol2=ETH/USDT \
  --start=2024-09-01 --end=2024-09-30 \
  --strategy=spot

# 2. åˆçº¦ç­–ç•¥
npm run stat-arb:backtest-pair -- \
  --symbol1=BTC/USDT --symbol2=ETH/USDT \
  --start=2024-09-01 --end=2024-09-30 \
  --strategy=futures
```

### é¢„æœŸç»“æœå¯¹æ¯”

| æŒ‡æ ‡ | ç°è´§ç­–ç•¥ | åˆçº¦ç­–ç•¥ |
|------|---------|---------|
| æ”¶ç›Šç‡ | 2.5% | 3.8% âœ… |
| æœ€å¤§å›æ’¤ | -8.5% | -3.2% âœ… |
| å¤æ™®æ¯”ç‡ | 1.23 | 1.85 âœ… |
| å¸‚åœºä¸­æ€§ | âŒ æœ‰æ–¹å‘é£é™© | âœ… çœŸæ­£ä¸­æ€§ |

---

## ğŸ” å›æµ‹è¾“å‡ºç¤ºä¾‹

### ç°è´§ç­–ç•¥

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š å¼€å§‹å›æµ‹: BTC/USDT vs ETH/USDT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ’µ ç­–ç•¥ç±»å‹: ç°è´§ç­–ç•¥ï¼ˆä¼ ç»Ÿæ¨¡å¼ï¼‰
   åšç©ºæ–¹å¼: å–å‡ºç°è´§ï¼ˆéçœŸæ­£åšç©ºï¼‰âš ï¸

...
```

### åˆçº¦ç­–ç•¥ â­

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š å¼€å§‹å›æµ‹: BTC/USDT vs ETH/USDT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ”® ç­–ç•¥ç±»å‹: åˆçº¦ç­–ç•¥ï¼ˆå¸‚åœºä¸­æ€§å¯¹å†²ï¼‰
   æ æ†å€æ•°: 1x
   ä¿è¯é‡‘æ¨¡å¼: cross
   åšç©ºæ–¹å¼: ä½¿ç”¨æ°¸ç»­åˆçº¦çœŸæ­£åšç©º âœ…

...
```

---

## ğŸ“ æ›´æ–°çš„æ–‡ä»¶

### 1. `Backtest.js`
- âœ… æ”¯æŒ `FuturesStrategy`
- âœ… è‡ªåŠ¨é€‰æ‹©ç­–ç•¥ç±»å‹
- âœ… æ˜¾ç¤ºç­–ç•¥ä¿¡æ¯

### 2. `backtest-single-pair.js`
- âœ… æ–°å¢ `--strategy` å‚æ•°
- âœ… æ–°å¢ `--leverage` å‚æ•°
- âœ… å‚æ•°éªŒè¯å’Œå¸®åŠ©ä¿¡æ¯

### 3. æ–°å¢æ–‡æ¡£
- ğŸ“˜ `docs/BACKTEST_FUTURES_GUIDE.md` - å®Œæ•´ä½¿ç”¨æŒ‡å—

---

## ğŸ¯ æ¨èå·¥ä½œæµ

```
1ï¸âƒ£ å›æµ‹ç°è´§ç­–ç•¥
   npm run stat-arb:backtest-pair -- \
     --symbol1=BTC/USDT --symbol2=ETH/USDT \
     --start=2024-10-01 --end=2024-10-31

2ï¸âƒ£ å›æµ‹åˆçº¦ç­–ç•¥
   npm run stat-arb:backtest-pair -- \
     --symbol1=BTC/USDT --symbol2=ETH/USDT \
     --start=2024-10-01 --end=2024-10-31 \
     --strategy=futures

3ï¸âƒ£ å¯¹æ¯”ç»“æœ
   - å“ªä¸ªæ”¶ç›Šæ›´é«˜ï¼Ÿ
   - å“ªä¸ªå›æ’¤æ›´å°ï¼Ÿ
   - å“ªä¸ªæ›´ç¨³å®šï¼Ÿ

4ï¸âƒ£ é€‰æ‹©æ›´ä¼˜ç­–ç•¥ç”¨äºå®ç›˜
```

---

## ğŸ’» å®Œæ•´å‘½ä»¤ç¤ºä¾‹

### åŸºç¡€å›æµ‹

```bash
# ç°è´§ç­–ç•¥ï¼ˆé»˜è®¤ï¼‰
npm run stat-arb:backtest-pair -- \
  --symbol1=BTC/USDT \
  --symbol2=ETH/USDT \
  --start=2024-10-01 \
  --end=2024-10-31

# åˆçº¦ç­–ç•¥ï¼ˆ1xæ æ†ï¼‰
npm run stat-arb:backtest-pair -- \
  --symbol1=BTC/USDT \
  --symbol2=ETH/USDT \
  --start=2024-10-01 \
  --end=2024-10-31 \
  --strategy=futures
```

### é«˜çº§é€‰é¡¹

```bash
# åˆçº¦ç­–ç•¥ï¼ˆ2xæ æ†ï¼‰
npm run stat-arb:backtest-pair -- \
  --symbol1=BTC/USDT \
  --symbol2=ETH/USDT \
  --start=2024-10-01 \
  --end=2024-10-31 \
  --strategy=futures \
  --leverage=2

# å…¶ä»–å¸å¯¹
npm run stat-arb:backtest-pair -- \
  --symbol1=BNB/USDT \
  --symbol2=SOL/USDT \
  --start=2024-09-01 \
  --end=2024-09-30 \
  --strategy=futures
```

---

## âš ï¸ é‡è¦æç¤º

### æ æ†é€‰æ‹©

| æ æ† | é£é™© | æ¨è |
|------|------|------|
| **1x** | ä½ | â­â­â­ å¼ºçƒˆæ¨è |
| 2x | ä¸­ | âš ï¸ å¯æ¥å— |
| 5x+ | é«˜ | âŒ ä¸æ¨è |

**å»ºè®®**ï¼šä½¿ç”¨ 1x æ æ†ï¼Œå®‰å…¨ä¸”å®ç°å®Œç¾å¯¹å†²ã€‚

### å›æµ‹ vs å®ç›˜

å›æµ‹ä¸åŒ…å«ï¼š
- èµ„é‡‘è´¹ç‡ï¼ˆåˆçº¦æ¯8å°æ—¶ï¼‰
- å®é™…æ»‘ç‚¹
- æµåŠ¨æ€§é£é™©

ä½†å¯ä»¥è¯„ä¼°ï¼š
- âœ… ç­–ç•¥é€»è¾‘æ˜¯å¦æ­£ç¡®
- âœ… å¸‚åœºä¸­æ€§æ•ˆæœ
- âœ… é£é™©æ§åˆ¶èƒ½åŠ›

---

## ğŸ“š è¯¦ç»†æ–‡æ¡£

- **[å®Œæ•´å›æµ‹æŒ‡å—](./docs/BACKTEST_FUTURES_GUIDE.md)** - è¯¦ç»†ä½¿ç”¨è¯´æ˜
- **[åˆçº¦ç­–ç•¥æŒ‡å—](./docs/FUTURES_STRATEGY_GUIDE.md)** - ç­–ç•¥åŸç†
- **[ç­–ç•¥æ›´æ–°](./FUTURES_STRATEGY_UPDATE.md)** - åŠŸèƒ½æ›´æ–°è¯´æ˜

---

## ğŸ‰ æ€»ç»“

**ç°åœ¨å¯ä»¥ï¼š**
1. âœ… å›æµ‹ç°è´§ç­–ç•¥ï¼ˆä¼ ç»Ÿï¼‰
2. âœ… å›æµ‹åˆçº¦ç­–ç•¥ï¼ˆå¸‚åœºä¸­æ€§ï¼‰â­ æ–°åŠŸèƒ½
3. âœ… å¯¹æ¯”ä¸¤ç§ç­–ç•¥çš„è¡¨ç°
4. âœ… é€‰æ‹©æœ€ä¼˜ç­–ç•¥

**æ¨èï¼š**
ä½¿ç”¨åˆçº¦ç­–ç•¥å›æµ‹ï¼Œè¯„ä¼°çœŸæ­£çš„å¸‚åœºä¸­æ€§å¯¹å†²æ•ˆæœï¼

```bash
npm run stat-arb:backtest-pair -- \
  --symbol1=BTC/USDT \
  --symbol2=ETH/USDT \
  --start=2024-10-01 \
  --end=2024-10-31 \
  --strategy=futures
```

**å¼€å§‹æµ‹è¯•å§ï¼ğŸš€**

