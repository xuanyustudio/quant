# 🎓 新手开始指南 - $1K测试版

> **你已经准备好了！** 所有配置都已经为你优化成新手友好模式。

---

## 🚀 立即开始（3个步骤）

### 第一步：检查配置（2分钟）

运行配置检查器，确保一切正常：

```bash
npm run stat-arb:check
```

你会看到：
- ✅ 资金配置检查（$1,000）
- ✅ 风险控制检查（严格）
- ✅ 配对数量检查（3个）
- ✅ 交易设置检查（安全模式）

**如果全部显示 ✅ 就可以继续！**

---

### 第二步：运行回测（20-40分钟）

回测2025年8月的历史数据：

```bash
npm run stat-arb:backtest
```

**回测流程**：
1. 分析所有币对的相关性
2. 选择相关性最高的前300个配对
3. **快速回测这300个配对**（计算收益指标）
4. **按收益率排序**，找出表现最好的前3名
5. **只为收益前3名生成详细HTML报告**
6. 保存所有300个配对的结果JSON文件

⚠️ **重要**：是从300个配对中选收益最好的3个，不是只测试3个！

**回测完成后查看**：
```
📁 output/ 文件夹
├── backtest_[配对1]_xxx.html    ← 详细报告
├── backtest_[配对2]_xxx.html
├── backtest_[配对3]_xxx.html
├── backtest_comparison_xxx.html  ← 对比图表
└── backtest_results_xxx.json     ← 结果数据
```

**特别关注这些指标**：

| 指标 | 理想值 | 说明 |
|------|--------|------|
| 收益率 | >5% | 月收益预期 |
| 夏普比率 | >1.0 | 风险调整后收益 |
| 最大回撤 | <10% | 最大亏损幅度 |
| 胜率 | >55% | 盈利交易占比 |
| 交易次数 | 8-20 | 适中的交易频率 |

---

### 第三步：优化投资组合（5分钟）

根据回测结果，自动选择最佳配对并分配资金：

```bash
npm run stat-arb:portfolio ./output/backtest_results_[时间戳].json 1000 conservative
```

**你会得到**：
```
💰 资金分配方案：
   总资金: $1,000
   应急储备 (25%): $250  ← 绝不动用
   活跃交易 (55%): $550  ← 用于交易
   机动资金 (20%): $200  ← 备用金

💼 选定配对：

【#1】ETH/USDT / BNB/USDT
  💰 分配: $250
  📊 每笔: $125
  📈 预期收益: 8.2%/月
  ✅ 胜率: 68%

【#2】ADA/USDT / DOT/USDT
  💰 分配: $180
  📊 每笔: $90
  📈 预期收益: 6.5%/月
  ✅ 胜率: 62%

【#3】...
```

系统会自动生成配置文件：
```
output/live_trading_config_xxx.json
```

---

## 📖 接下来做什么？

### 方案A：纸上交易（强烈推荐）

**适合：新手，第一次使用**

1. **保持当前配置**（实盘交易关闭）
2. **启动监控模式**：
```bash
npm run stat-arb
```
3. **观察1-2周**：
   - 程序会显示交易信号
   - 但不会实际下单
   - 记录每个信号
   - 计算假设收益

4. **每天查看日志**：
```bash
# 查看交易日志
cat logs/trades.log

# 查看完整日志
cat logs/combined.log
```

**纸上交易期间记录**：
- 日期时间
- 配对名称
- 信号类型（开仓/平仓）
- Z-Score值
- 假设盈亏

**1-2周后评估**：
- 胜率 >50% ✅
- 日均交易 1-3次 ✅
- 理解每个信号 ✅
→ **可以考虑真实交易**

---

### 方案B：真实交易（谨慎！）

**适合：有经验，或纸上交易成功**

#### 准备工作

1. **设置API密钥**：
```bash
# 复制环境变量模板
cp env.example .env

# 编辑 .env 文件
nano .env
```

填入：
```env
BINANCE_API_KEY=你的API密钥
BINANCE_SECRET=你的密钥
```

2. **交易所API权限设置**：
   - ✅ 允许：现货交易
   - ✅ 允许：查询账户
   - ❌ 禁止：提币权限（安全！）
   - ✅ 建议：IP白名单

3. **修改配置**：
```javascript
// src/statistical-arbitrage/config.js

{
  enableLiveTrading: true,   // 启用实盘
  autoTrade: false,          // ⚠️ 建议先手动
  ...
}
```

4. **启动实盘**：
```bash
npm run stat-arb
```

#### 手动交易模式（新手推荐）

当 `autoTrade: false` 时：
1. 程序显示交易信号
2. 你在交易所APP手动下单
3. 完全掌控每笔交易

**示例**：
```
🎯 OPEN_SHORT 信号
   配对: ETH/USDT / BNB/USDT
   Z-Score: 3.45
   建议操作:
     - 卖出 ETH $125
     - 买入 BNB $125
```

你需要：
1. 登录币安APP
2. 卖出对应数量的ETH
3. 买入对应数量的BNB
4. 记录交易

---

## 📊 日常监控

### 每天必做（5-10分钟）

**早上**：
```bash
# 查看持仓状态
npm run stat-arb:check

# 查看交易日志
tail -n 50 logs/trades.log
```

**晚上**：
- 复盘今天的交易
- 记录盈亏
- 更新Excel表格

### 每周必做（30分钟）

1. 统计数据：
   - 总交易次数
   - 胜率
   - 总盈亏
   - 平均每笔盈亏

2. 对比回测：
   - 实盘胜率 vs 回测胜率
   - 实际滑点
   - 持仓时间

3. 决定是否调整：
   - 胜率 <45% → 暂停
   - 回撤 >8% → 减仓
   - 连续亏损 → 检查市场

---

## 🚨 紧急情况处理

### 立即停止交易的条件

- ❌ 单日亏损 >$50
- ❌ 总回撤 >10%
- ❌ 连续5次亏损
- ❌ BTC单日暴涨/暴跌 >10%

### 如何停止

1. **立即平仓**：
   - 登录交易所
   - 手动平掉所有仓位

2. **停止程序**：
```bash
# 按 Ctrl+C 停止
```

3. **冷静分析**：
   - 等待3-7天
   - 重新回测近期数据
   - 检查策略是否失效

---

## 📚 重要文档

- **新手完整指南**：`docs/NEWBIE_QUICKSTART.md`
- **实盘交易指南**：`docs/LIVE_TRADING_GUIDE.md`
- **策略详解**：`docs/STATISTICAL_ARBITRAGE_GUIDE.md`

---

## ✅ 配置总结

你的当前配置（已优化）：

```
💰 资金：$1,000
📊 配对：3个最佳
💵 每笔：$200
📈 仓位：50%
🛡️ 回撤：10%限制
⚠️ 日亏：$50限制
🔄 持仓：最多2个
```

**风险级别**：⭐⭐⭐⭐⭐ 非常保守（新手推荐）

---

## 🎯 成功路线图

### 第1周：学习期
- 运行回测
- 理解指标含义
- 开始纸上交易
- **目标**：理解流程

### 第2-3周：测试期
- 继续纸上交易
- 记录所有信号
- 计算假设盈亏
- **目标**：胜率>50%

### 第4周：决策期
- 评估测试结果
- 决定是否实盘
- 或继续优化
- **目标**：建立信心

### 第2个月：实盘期
- 小额真实交易
- 严格风控
- 持续监控
- **目标**：稳定盈利2-5%

### 第3个月：扩展期
- 增加资金到$2K-$3K
- 增加配对到5-8个
- 优化参数
- **目标**：月收益5-8%

---

## 💡 最后的建议

### ✅ 要做的事

1. **从小做起** - $1K测试至少1个月
2. **严格风控** - 绝不违反止损规则
3. **耐心等待** - 相信策略，不要频繁调整
4. **持续学习** - 理解每笔交易的原因
5. **记录一切** - 详细的交易日志很重要

### ❌ 不要做的事

1. **不要急于增资** - 证明稳定后再加
2. **不要过度交易** - 等待好的信号
3. **不要孤注一掷** - 只用闲钱
4. **不要追求暴利** - 稳定比快速重要
5. **不要情绪化** - 严格执行计划

---

## 🚀 现在就开始！

```bash
# 步骤1: 检查配置
npm run stat-arb:check

# 步骤2: 运行回测（会用20-40分钟）
npm run stat-arb:backtest

# 步骤3: 优化投资组合（回测完成后）
npm run stat-arb:portfolio ./output/backtest_results_xxx.json 1000 conservative

# 步骤4: 开始纸上交易
npm run stat-arb
```

---

**记住这句话**：

> 稳定比快速更重要  
> 活着比暴富更关键  
> 学习比赚钱更有价值

祝你交易顺利！🎉

---

## 📞 遇到问题？

1. 先查看日志：`logs/error.log`
2. 阅读相关文档
3. 检查配置是否正确
4. 重新运行配置检查器

**准备好了吗？Let's go! 🚀**

